<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Admin - Al Capone Club Analytics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #0d0d0d;
            --secondary-color: #f5f5f5;
            --accent-color: #8B4513;
            --highlight-color: #D4AF37;
            --button-color: #2c2c2c;
            --button-hover: #3a3a3a;
            --success-color: #2e8b57;
            --warning-color: #ff9800;
            --danger-color: #e74c3c;
            --info-color: #3498db;
            --card-bg: rgba(20, 20, 20, 0.8);
            --table-odd: rgba(139, 69, 19, 0.05);
            --table-even: rgba(212, 175, 55, 0.05);
        }

        body {
            background-color: var(--primary-color);
            color: var(--secondary-color);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(139, 69, 19, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 90% 10%, rgba(212, 175, 55, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 50% 90%, rgba(139, 69, 19, 0.05) 0%, transparent 30%);
        }

        .container {
            width: 100%;
            max-width: 1800px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header Section */
        .header {
            text-align: center;
            padding: 1.5rem;
            position: relative;
            border-bottom: 2px solid var(--accent-color);
            margin-bottom: 2rem;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 0 0 12px 12px;
        }

        .logo-area {
            margin-bottom: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .club-logo {
            max-width: 200px;
            height: auto;
        }

        .logo-placeholder {
            width: 200px;
            height: 100px;
            background-color: rgba(139, 69, 19, 0.2);
            border: 2px dashed rgba(212, 175, 55, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            color: rgba(245, 245, 245, 0.7);
            font-size: 1.2rem;
            font-weight: bold;
        }

        .header-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--highlight-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .header-subtitle {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--secondary-color);
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .dubai-trip-banner {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.9), rgba(139, 69, 19, 0.9));
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: inline-block;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* Dashboard Layout */
        .dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 1.5rem;
            flex-grow: 1;
            margin-bottom: 2rem;
        }

        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }

        /* Sidebar */
        .sidebar {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            height: fit-content;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 69, 19, 0.2);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .sidebar-section {
            margin-bottom: 1rem;
        }

        .sidebar-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--highlight-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 0.8rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.9rem 1rem;
            background-color: var(--button-color);
            border-radius: 8px;
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover, .nav-link.active {
            background-color: var(--accent-color);
            transform: translateX(5px);
        }

        .nav-link i {
            width: 20px;
            text-align: center;
        }

        /* Stock Alerts */
        .stock-alerts {
            background-color: rgba(20, 20, 20, 0.9);
            border-radius: 10px;
            padding: 1rem;
            border-left: 4px solid var(--danger-color);
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.1);
        }

        .alerts-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .alerts-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--danger-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .alerts-count {
            background-color: var(--danger-color);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .alerts-list {
            list-style: none;
            max-height: 300px;
            overflow-y: auto;
        }

        .alert-item {
            padding: 0.8rem;
            background-color: rgba(231, 76, 60, 0.1);
            border-radius: 6px;
            margin-bottom: 0.8rem;
            border-left: 3px solid var(--danger-color);
        }

        .alert-item.low {
            border-left-color: var(--warning-color);
            background-color: rgba(255, 152, 0, 0.1);
        }

        .alert-item:last-child {
            margin-bottom: 0;
        }

        .alert-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .alert-item-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .alert-item-category {
            font-size: 0.8rem;
            color: rgba(245, 245, 245, 0.7);
            background-color: rgba(255, 255, 255, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
        }

        .alert-item-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
        }

        .stock-level {
            font-size: 0.9rem;
        }

        .stock-critical {
            color: var(--danger-color);
            font-weight: bold;
        }

        .stock-low {
            color: var(--warning-color);
            font-weight: bold;
        }

        .btn-restock {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 0.3rem 0.7rem;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-restock:hover {
            background-color: #a0522d;
        }

        .btn-restocked {
            background-color: var(--success-color);
            cursor: default;
        }

        .btn-restocked:hover {
            background-color: var(--success-color);
        }

        .view-all-alerts {
            text-align: center;
            margin-top: 1rem;
            padding-top: 0.8rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .view-all-alerts a {
            color: var(--highlight-color);
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .view-all-alerts a:hover {
            text-decoration: underline;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .stat-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 69, 19, 0.2);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(212, 175, 55, 0.3);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-title {
            font-size: 1rem;
            color: rgba(245, 245, 245, 0.7);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .icon-revenue {
            background-color: var(--success-color);
        }

        .icon-orders {
            background-color: var(--info-color);
        }

        .icon-customers {
            background-color: var(--highlight-color);
        }

        .icon-avg {
            background-color: var(--warning-color);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--highlight-color);
            margin-bottom: 0.5rem;
        }

        .stat-change {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .change-positive {
            color: var(--success-color);
        }

        .change-negative {
            color: var(--danger-color);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 1100px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 69, 19, 0.2);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--highlight-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        /* Top Customers */
        .top-customers-section {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 69, 19, 0.2);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--highlight-color);
            position: relative;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-color), transparent);
        }

        .trip-indicator {
            background-color: var(--accent-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Customers Table */
        .customers-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .customers-table th {
            background-color: var(--button-color);
            color: var(--highlight-color);
            text-align: left;
            padding: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid var(--accent-color);
        }

        .customers-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .customers-table tr:nth-child(odd) {
            background-color: var(--table-odd);
        }

        .customers-table tr:nth-child(even) {
            background-color: var(--table-even);
        }

        .customers-table tr:hover {
            background-color: rgba(212, 175, 55, 0.1);
        }

        .customer-rank {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--accent-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto;
        }

        .rank-1 {
            background-color: #ffd700;
            color: #000;
        }

        .rank-2 {
            background-color: #c0c0c0;
            color: #000;
        }

        .rank-3 {
            background-color: #cd7f32;
            color: #000;
        }

        .customer-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .customer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .customer-name {
            font-weight: 600;
        }

        .customer-membership {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .membership-platinum {
            background-color: rgba(212, 175, 55, 0.2);
            color: var(--highlight-color);
            border: 1px solid var(--highlight-color);
        }

        .membership-gold {
            background-color: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            border: 1px solid #ffd700;
        }

        .membership-silver {
            background-color: rgba(192, 192, 192, 0.2);
            color: #c0c0c0;
            border: 1px solid #c0c0c0;
        }

        .btn-select {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-select:hover {
            background-color: #a0522d;
            transform: translateY(-2px);
        }

        .btn-selected {
            background-color: var(--success-color);
            cursor: default;
        }

        .btn-selected:hover {
            background-color: var(--success-color);
            transform: none;
        }

        /* Sales Breakdown */
        .sales-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .breakdown-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 69, 19, 0.2);
        }

        .breakdown-list {
            list-style: none;
            margin-top: 1rem;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .breakdown-category {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .category-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: auto;
            color: var(--secondary-color);
            opacity: 0.7;
            font-size: 0.9rem;
            border-top: 1px solid rgba(139, 69, 19, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-title {
                font-size: 2rem;
            }
            
            .header-subtitle {
                font-size: 1rem;
            }
            
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .chart-card {
                padding: 1rem;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .customers-table {
                display: block;
                overflow-x: auto;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .dubai-trip-banner {
                font-size: 1rem;
                padding: 0.6rem 1rem;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header-title {
                font-size: 1.6rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <div class="logo-area">
                <div class="logo-placeholder" id="logo-placeholder">SUPER ADMIN</div>
                <img id="club-logo" class="club-logo" src="" alt="Al Capone Club Logo">
            </div>
            <h1 class="header-title">Super Admin Dashboard</h1>
            <p class="header-subtitle">Comprehensive analytics and insights for Al Capone Club. Track sales, customer loyalty, and identify top performers for the Dubai trip.</p>
            <div class="dubai-trip-banner">
                <i class="fas fa-gift"></i> Dubai Trip Reward: Select Top 2 Loyal Customers by December 31st
            </div>
        </div>

        <!-- Dashboard Layout -->
        <div class="dashboard">
            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Navigation Menu -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title"><i class="fas fa-tachometer-alt"></i> Dashboard</h3>
                    <ul class="nav-menu">
                        <li class="nav-item"><a href="#" class="nav-link active"><i class="fas fa-chart-line"></i> Analytics Overview</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-users"></i> Customer Management</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-cash-register"></i> Sales Tracking</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-glass-cheers"></i> Inventory & Menu</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-calendar-alt"></i> Events & Promotions</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-user-tie"></i> Staff Management</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-cog"></i> Settings</a></li>
                    </ul>
                </div>

                <!-- Stock Alerts Section -->
                <div class="stock-alerts">
                    <div class="alerts-header">
                        <h4 class="alerts-title"><i class="fas fa-exclamation-triangle"></i> Stock Alerts</h4>
                        <div class="alerts-count" id="alerts-count">5</div>
                    </div>
                    
                    <ul class="alerts-list" id="alerts-list">
                        <!-- Stock alerts will be populated by JavaScript -->
                    </ul>
                    
                    <div class="view-all-alerts">
                        <a href="#"><i class="fas fa-arrow-right"></i> View All Inventory</a>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <h3 class="stat-title">Total Revenue</h3>
                            <div class="stat-icon icon-revenue">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="total-revenue">$124,580</div>
                        <div class="stat-change change-positive">
                            <i class="fas fa-arrow-up"></i> 12.5% from last month
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <h3 class="stat-title">Total Orders</h3>
                            <div class="stat-icon icon-orders">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="total-orders">2,847</div>
                        <div class="stat-change change-positive">
                            <i class="fas fa-arrow-up"></i> 8.3% from last month
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <h3 class="stat-title">Active Customers</h3>
                            <div class="stat-icon icon-customers">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="active-customers">312</div>
                        <div class="stat-change change-positive">
                            <i class="fas fa-arrow-up"></i> 5.2% from last month
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <h3 class="stat-title">Avg. Order Value</h3>
                            <div class="stat-icon icon-avg">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="avg-order-value">$43.75</div>
                        <div class="stat-change change-positive">
                            <i class="fas fa-arrow-up"></i> 3.8% from last month
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title"><i class="fas fa-chart-line"></i> Revenue Trend (Last 30 Days)</h3>
                            <select id="revenue-period" class="btn-select" style="padding: 0.3rem 0.8rem;">
                                <option value="30">Last 30 Days</option>
                                <option value="90">Last 90 Days</option>
                                <option value="365">Last Year</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title"><i class="fas fa-chart-pie"></i> Sales by Category</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Top Customers Section -->
                <div class="top-customers-section">
                    <div class="section-title">
                        <span><i class="fas fa-crown"></i> Top Loyal Customers - Dubai Trip Selection</span>
                        <div class="trip-indicator">
                            <i class="fas fa-plane"></i> 2 Seats Available
                        </div>
                    </div>
                    
                    <table class="customers-table">
                        <thead>
                            <tr>
                                <th width="50">Rank</th>
                                <th>Customer</th>
                                <th>Membership</th>
                                <th>Total Spent</th>
                                <th>Visits</th>
                                <th>Avg. Spend</th>
                                <th>Last Visit</th>
                                <th>Select for Dubai</th>
                            </tr>
                        </thead>
                        <tbody id="customers-body">
                            <!-- Customers will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <!-- Sales Breakdown -->
                <div class="sales-breakdown">
                    <div class="breakdown-card">
                        <h3 class="chart-title"><i class="fas fa-list-alt"></i> Top Selling Items</h3>
                        <ul class="breakdown-list" id="top-items-list">
                            <!-- Top items will be populated by JavaScript -->
                        </ul>
                    </div>
                    
                    <div class="breakdown-card">
                        <h3 class="chart-title"><i class="fas fa-clock"></i> Peak Hours</h3>
                        <ul class="breakdown-list" id="peak-hours-list">
                            <!-- Peak hours will be populated by JavaScript -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Al Capone Club &copy; 2025 | Super Admin Dashboard v2.1 | Confidential - For Management Use Only</p>
        </div>
    </div>

    <script>
        // Mock data for the dashboard
        const customers = [
            {
                id: 1,
                name: "Vincent Rossi",
                avatar: "VR",
                membership: "Platinum",
                totalSpent: 12540,
                visits: 42,
                avgSpend: 298.57,
                lastVisit: "2025-11-05",
                selectedForDubai: true
            },
            {
                id: 2,
                name: "Giovanni Bianchi",
                avatar: "GB",
                membership: "Platinum",
                totalSpent: 11875,
                visits: 38,
                avgSpend: 312.50,
                lastVisit: "2025-11-08",
                selectedForDubai: true
            },
            {
                id: 3,
                name: "Marco Conti",
                avatar: "MC",
                membership: "Gold",
                totalSpent: 9870,
                visits: 35,
                avgSpend: 282.00,
                lastVisit: "2025-11-03",
                selectedForDubai: false
            },
            {
                id: 4,
                name: "Francesca Russo",
                avatar: "FR",
                membership: "Gold",
                totalSpent: 8450,
                visits: 31,
                avgSpend: 272.58,
                lastVisit: "2025-10-28",
                selectedForDubai: false
            },
            {
                id: 5,
                name: "Antonio Ferrari",
                avatar: "AF",
                membership: "Silver",
                totalSpent: 7250,
                visits: 28,
                avgSpend: 258.93,
                lastVisit: "2025-10-25",
                selectedForDubai: false
            },
            {
                id: 6,
                name: "Isabella Romano",
                avatar: "IR",
                membership: "Platinum",
                totalSpent: 6890,
                visits: 24,
                avgSpend: 287.08,
                lastVisit: "2025-10-30",
                selectedForDubai: false
            },
            {
                id: 7,
                name: "Luca Marino",
                avatar: "LM",
                membership: "Gold",
                totalSpent: 6120,
                visits: 22,
                avgSpend: 278.18,
                lastVisit: "2025-10-22",
                selectedForDubai: false
            },
            {
                id: 8,
                name: "Sophia Gallo",
                avatar: "SG",
                membership: "Silver",
                totalSpent: 5340,
                visits: 19,
                avgSpend: 281.05,
                lastVisit: "2025-10-18",
                selectedForDubai: false
            }
        ];

        // Stock alerts data
        const stockAlerts = [
            {
                id: 1,
                name: "Macallan 18 Year",
                category: "Premium Whiskey",
                currentStock: 2,
                minStock: 5,
                status: "critical",
                lastRestocked: "2025-10-15"
            },
            {
                id: 2,
                name: "Dom Pérignon Champagne",
                category: "Champagne",
                currentStock: 3,
                minStock: 6,
                status: "critical",
                lastRestocked: "2025-10-20"
            },
            {
                id: 3,
                name: "Blue Label Johnnie Walker",
                category: "Premium Whiskey",
                currentStock: 4,
                minStock: 8,
                status: "low",
                lastRestocked: "2025-10-25"
            },
            {
                id: 4,
                name: "Patrón Añejo Tequila",
                category: "Premium Tequila",
                currentStock: 5,
                minStock: 10,
                status: "low",
                lastRestocked: "2025-10-28"
            },
            {
                id: 5,
                name: "Cocktail Napkins",
                category: "Supplies",
                currentStock: 120,
                minStock: 500,
                status: "low",
                lastRestocked: "2025-11-01"
            },
            {
                id: 6,
                name: "Signature Martini Glasses",
                category: "Glassware",
                currentStock: 8,
                minStock: 25,
                status: "low",
                lastRestocked: "2025-10-30"
            }
        ];

        // Sales data for charts
        const revenueData = {
            labels: ['Oct 10', 'Oct 15', 'Oct 20', 'Oct 25', 'Oct 30', 'Nov 4', 'Nov 9'],
            datasets: [{
                label: 'Daily Revenue ($)',
                data: [3200, 4100, 3800, 5200, 4700, 6100, 5800],
                borderColor: '#D4AF37',
                backgroundColor: 'rgba(212, 175, 55, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4
            }]
        };

        const categoryData = {
            labels: ['Cocktails', 'Champagne', 'Whiskey', 'Wine', 'Beer', 'Mocktails', 'Food'],
            datasets: [{
                data: [35, 22, 18, 12, 8, 3, 2],
                backgroundColor: [
                    '#D4AF37',
                    '#8B4513',
                    '#2e8b57',
                    '#e74c3c',
                    '#3498db',
                    '#9b59b6',
                    '#ff9800'
                ],
                borderWidth: 1,
                borderColor: '#1a1a1a'
            }]
        };

        // Top selling items
        const topItems = [
            { name: "Old Fashioned", sales: 245, revenue: 9800 },
            { name: "Champagne Bottle", sales: 89, revenue: 13350 },
            { name: "Macallan 18yr", sales: 67, revenue: 13400 },
            { name: "Signature Martini", sales: 156, revenue: 7800 },
            { name: "Whiskey Sour", sales: 189, revenue: 5670 }
        ];

        // Peak hours
        const peakHours = [
            { hour: "8:00 PM", orders: 142, percentage: 22 },
            { hour: "9:00 PM", orders: 178, percentage: 28 },
            { hour: "10:00 PM", orders: 165, percentage: 26 },
            { hour: "11:00 PM", orders: 98, percentage: 15 },
            { hour: "12:00 AM", orders: 54, percentage: 9 }
        ];

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Load logo
            const clubLogo = document.getElementById('club-logo');
            const logoPlaceholder = document.getElementById('logo-placeholder');
            
            clubLogo.src = 'images/logo.png';
            clubLogo.onload = function() {
                clubLogo.style.display = 'block';
                logoPlaceholder.style.display = 'none';
            };
            clubLogo.onerror = function() {
                console.log('Logo not found at images/logo.png');
            };
            
            // Initialize charts
            initCharts();
            
            // Render customers table
            renderCustomers();
            
            // Render stock alerts
            renderStockAlerts();
            
            // Render top items and peak hours
            renderTopItems();
            renderPeakHours();
            
            // Add event listeners
            document.getElementById('revenue-period').addEventListener('change', updateRevenueChart);
        });

        // Initialize charts
        function initCharts() {
            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            window.revenueChart = new Chart(revenueCtx, {
                type: 'line',
                data: revenueData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#f5f5f5'
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#f5f5f5'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#f5f5f5',
                                callback: function(value) {
                                    return '$' + value;
                                }
                            }
                        }
                    }
                }
            });
            
            // Category Chart
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            window.categoryChart = new Chart(categoryCtx, {
                type: 'doughnut',
                data: categoryData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                color: '#f5f5f5',
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        // Render stock alerts
        function renderStockAlerts() {
            const alertsList = document.getElementById('alerts-list');
            const alertsCount = document.getElementById('alerts-count');
            
            // Filter only critical and low stock items (for demo, show first 4)
            const criticalAlerts = stockAlerts.filter(item => item.status === "critical");
            const lowAlerts = stockAlerts.filter(item => item.status === "low");
            const displayAlerts = [...criticalAlerts, ...lowAlerts].slice(0, 4);
            
            alertsCount.textContent = stockAlerts.length;
            
            let alertsHTML = '';
            
            displayAlerts.forEach(item => {
                const alertClass = item.status === "critical" ? "" : "low";
                const stockClass = item.status === "critical" ? "stock-critical" : "stock-low";
                const statusText = item.status === "critical" ? "CRITICAL" : "LOW";
                
                alertsHTML += `
                <li class="alert-item ${alertClass}">
                    <div class="alert-item-header">
                        <div class="alert-item-name">${item.name}</div>
                        <div class="alert-item-category">${item.category}</div>
                    </div>
                    <div class="alert-item-details">
                        <div class="stock-level ${stockClass}">${item.currentStock} units (${statusText})</div>
                        <button class="btn-restock" onclick="restockItem(${item.id})">Restock</button>
                    </div>
                </li>
                `;
            });
            
            alertsList.innerHTML = alertsHTML;
        }

        // Restock item function
        function restockItem(itemId) {
            const itemIndex = stockAlerts.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                // In a real app, this would make an API call
                // For demo, we'll just update the UI
                
                // Update stock level (simulate restocking)
                const item = stockAlerts[itemIndex];
                const newStock = item.currentStock + 20; // Add 20 units
                item.currentStock = newStock;
                
                // Update last restocked date
                const today = new Date().toISOString().split('T')[0];
                item.lastRestocked = today;
                
                // If stock is now above minimum, remove from alerts
                if (newStock >= item.minStock * 2) {
                    stockAlerts.splice(itemIndex, 1);
                }
                
                // Re-render alerts
                renderStockAlerts();
                
                // Show notification
                showNotification(`${item.name} restocked successfully!`);
                
                // Update the inventory stats
                updateInventoryStats();
            }
        }

        // Update inventory stats (placeholder function)
        function updateInventoryStats() {
            // In a real app, you would update inventory-related statistics here
            console.log("Inventory updated. Critical items remaining:", 
                stockAlerts.filter(item => item.status === "critical").length);
        }

        // Update revenue chart based on period selection
        function updateRevenueChart() {
            const period = document.getElementById('revenue-period').value;
            let newData, newLabels;
            
            if (period === '90') {
                // Mock data for 90 days
                newLabels = ['Aug', 'Sep', 'Oct', 'Nov'];
                newData = [28500, 31200, 34500, 12400];
            } else if (period === '365') {
                // Mock data for 365 days
                newLabels = ['Q1', 'Q2', 'Q3', 'Q4'];
                newData = [102500, 118000, 124500, 95600];
            } else {
                // Default to 30 days
                newLabels = revenueData.labels;
                newData = revenueData.datasets[0].data;
            }
            
            window.revenueChart.data.labels = newLabels;
            window.revenueChart.data.datasets[0].data = newData;
            window.revenueChart.update();
        }

        // Render customers table
        function renderCustomers() {
            const customersBody = document.getElementById('customers-body');
            let customersHTML = '';
            
            // Sort customers by total spent (descending)
            const sortedCustomers = [...customers].sort((a, b) => b.totalSpent - a.totalSpent);
            
            sortedCustomers.forEach((customer, index) => {
                const rank = index + 1;
                const lastVisitDate = new Date(customer.lastVisit);
                const formattedDate = lastVisitDate.toLocaleDateString('en-US', { 
                    month: 'short', 
                    day: 'numeric',
                    year: 'numeric'
                });
                
                customersHTML += `
                <tr>
                    <td>
                        <div class="customer-rank rank-${rank}">${rank}</div>
                    </td>
                    <td>
                        <div class="customer-info">
                            <div class="customer-avatar">${customer.avatar}</div>
                            <div>
                                <div class="customer-name">${customer.name}</div>
                                <div style="font-size: 0.8rem; color: rgba(245,245,245,0.6);">ID: CAP-${1000 + customer.id}</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span class="customer-membership membership-${customer.membership.toLowerCase()}">
                            ${customer.membership}
                        </span>
                    </td>
                    <td><strong>$${customer.totalSpent.toLocaleString()}</strong></td>
                    <td>${customer.visits}</td>
                    <td>$${customer.avgSpend.toFixed(2)}</td>
                    <td>${formattedDate}</td>
                    <td>
                        <button class="btn-select ${customer.selectedForDubai ? 'btn-selected' : ''}" 
                                onclick="toggleDubaiSelection(${customer.id})"
                                ${customer.selectedForDubai ? 'disabled' : ''}>
                            ${customer.selectedForDubai ? 'Selected' : 'Select'}
                        </button>
                    </td>
                </tr>
                `;
            });
            
            customersBody.innerHTML = customersHTML;
            
            // Update the trip indicator
            updateTripIndicator();
        }

        // Toggle Dubai selection
        function toggleDubaiSelection(customerId) {
            // Count currently selected customers
            const selectedCount = customers.filter(c => c.selectedForDubai).length;
            
            // Find the customer
            const customerIndex = customers.findIndex(c => c.id === customerId);
            
            if (customerIndex !== -1) {
                // If already selected, deselect
                if (customers[customerIndex].selectedForDubai) {
                    customers[customerIndex].selectedForDubai = false;
                } 
                // If not selected and we have less than 2 selected, select
                else if (selectedCount < 2) {
                    customers[customerIndex].selectedForDubai = true;
                }
                // If already 2 selected, show alert
                else {
                    showNotification("Maximum of 2 customers can be selected for the Dubai trip.");
                    return;
                }
                
                // Re-render the table
                renderCustomers();
                
                // Show notification
                const action = customers[customerIndex].selectedForDubai ? "selected" : "deselected";
                showNotification(`${customers[customerIndex].name} ${action} for Dubai trip`);
            }
        }

        // Update trip indicator
        function updateTripIndicator() {
            const selectedCount = customers.filter(c => c.selectedForDubai).length;
            const tripIndicator = document.querySelector('.trip-indicator');
            const seatsAvailable = 2 - selectedCount;
            
            tripIndicator.innerHTML = `<i class="fas fa-plane"></i> ${seatsAvailable} Seat${seatsAvailable !== 1 ? 's' : ''} Available`;
            
            // Update stats
            document.getElementById('total-revenue').textContent = `$${customers.reduce((sum, c) => sum + c.totalSpent, 0).toLocaleString()}`;
            document.getElementById('total-orders').textContent = customers.reduce((sum, c) => sum + c.visits, 0).toLocaleString();
            document.getElementById('active-customers').textContent = customers.length;
        }

        // Render top items
        function renderTopItems() {
            const topItemsList = document.getElementById('top-items-list');
            let itemsHTML = '';
            
            topItems.forEach((item, index) => {
                itemsHTML += `
                <li class="breakdown-item">
                    <div class="breakdown-category">
                        <div class="category-color" style="background-color: ${categoryData.datasets[0].backgroundColor[index]}"></div>
                        <span>${item.name}</span>
                    </div>
                    <div>
                        <strong>${item.sales} sold</strong> ($${item.revenue.toLocaleString()})
                    </div>
                </li>
                `;
            });
            
            topItemsList.innerHTML = itemsHTML;
        }

        // Render peak hours
        function renderPeakHours() {
            const peakHoursList = document.getElementById('peak-hours-list');
            let hoursHTML = '';
            
            peakHours.forEach(hour => {
                hoursHTML += `
                <li class="breakdown-item">
                    <div class="breakdown-category">
                        <div class="category-color" style="background-color: #D4AF37"></div>
                        <span>${hour.hour}</span>
                    </div>
                    <div>
                        <strong>${hour.orders} orders</strong> (${hour.percentage}%)
                    </div>
                </li>
                `;
            });
            
            peakHoursList.innerHTML = hoursHTML;
        }

        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: var(--accent-color);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease;
                font-weight: 600;
                max-width: 350px;
                display: flex;
                align-items: center;
                gap: 0.8rem;
            `;
            notification.innerHTML = `<i class="fas fa-info-circle"></i> ${message}`;
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
            
            // Add keyframe animations if not already added
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Simulate real-time updates (for demo)
        setInterval(() => {
            // Randomly update a customer's total spent (simulating new purchases)
            const randomCustomerIndex = Math.floor(Math.random() * customers.length);
            const randomIncrease = Math.floor(Math.random() * 200) + 50;
            
            customers[randomCustomerIndex].totalSpent += randomIncrease;
            customers[randomCustomerIndex].visits += 1;
            customers[randomCustomerIndex].lastVisit = new Date().toISOString().split('T')[0];
            
            // Recalculate average spend
            customers[randomCustomerIndex].avgSpend = 
                customers[randomCustomerIndex].totalSpent / customers[randomCustomerIndex].visits;
            
            // Re-render customers if they're in the top 8
            if (randomCustomerIndex < 8) {
                renderCustomers();
            }
            
            // Update total revenue
            const totalRevenue = customers.reduce((sum, c) => sum + c.totalSpent, 0);
            document.getElementById('total-revenue').textContent = `$${totalRevenue.toLocaleString()}`;
            
            // Update total orders
            const totalOrders = customers.reduce((sum, c) => sum + c.visits, 0);
            document.getElementById('total-orders').textContent = totalOrders.toLocaleString();
            
            // Randomly decrease stock for some items (simulating sales)
            if (Math.random() > 0.7 && stockAlerts.length > 0) {
                const randomStockIndex = Math.floor(Math.random() * stockAlerts.length);
                const item = stockAlerts[randomStockIndex];
                
                if (item.currentStock > 0) {
                    item.currentStock -= Math.floor(Math.random() * 3) + 1;
                    
                    // Update status if needed
                    if (item.currentStock <= 0) {
                        item.status = "critical";
                        item.currentStock = 0;
                    } else if (item.currentStock < item.minStock) {
                        item.status = "critical";
                    } else if (item.currentStock < item.minStock * 2) {
                        item.status = "low";
                    }
                    
                    // Re-render alerts if this item is in the displayed alerts
                    renderStockAlerts();
                }
            }
            
        }, 10000); // Update every 10 seconds
    </script>
</body>
</html>